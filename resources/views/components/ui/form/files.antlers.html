{{#
    @param model - Alpine.js model binding
    @param max_files - Maximum number of files (default: 1)
    @param handle - Input name/handle
    @param id - Input ID
    @param instructions - Help text
    @param class - Additional CSS classes
#}}

<input
    x-model="{{ model }}"
    class="{{ class }}"
    {{ if max_files != 1 }}multiple{{ /if }}
    id="{{ id }}"
    name="{{ handle }}{{ if max_files != 1 }}[]{{ /if }}"
    type="file"
    x-bind:aria-invalid="form.invalid('{{ handle }}')"
    {{ if instructions }}
        x-bind:aria-describedby="form.invalid('{{ handle }}') ? '{{ id }}-error' : '{{ id }}-instructions'"
    {{ else }}
        x-bind:aria-describedby="form.invalid('{{ handle }}') ? '{{ id }}-error' : false"
    {{ /if }}
    x-on:change="form.validate('{{ handle }}')"
/>
