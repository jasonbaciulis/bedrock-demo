{{#
    @param name - Unique identifier for the collapsible (default: random)
    @slot trigger - The trigger button content
    @slot content - The collapsible content
#}}

<div
    x-data="{
        open: false,
        toggle() {
            this.open = ! this.open
        },
        close() {
            this.open = false
        },
    }"
    class="relative"
>
    <dt>
        <button
            type="button"
            aria-controls="collapsible-{{ name ?? {random} }}"
            x-bind:aria-expanded="open"
            x-on:click="toggle()"
            x-on:keydown.enter.prevent="toggle()"
            x-on:keydown.space.prevent="toggle()"
            x-on:keydown.escape="close()"
        >
            {{ slot:trigger }}
        </button>
    </dt>
    <dd
        x-cloak
        x-show="open"
        x-collapse
        id="collapsible-{{ name ?? {random} }}"
        role="region"
        x-bind:aria-hidden="!open"
        class="relative"
    >
        {{ slot:content }}
    </dd>
</div>
