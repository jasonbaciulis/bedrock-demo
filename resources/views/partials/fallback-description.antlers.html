{{ seo:collection_defaults | where('collection', {collection}) }}
    {{ if fallback == 'field' }}
        {{ scope:field }}
            {{ field[field_handle] | strip_tags | trim | truncate(157, '…') }}
        {{ /scope:field }}
    {{ elseif fallback == 'custom_text' }}
        {{ custom_text }}
    {{ elseif fallback == 'blocks' }}
        {{ blocks limit="1" }}
            {{ if article }}
                {{ article | where('type', 'text') | limit(1) }}
                    {{ text | strip_tags | trim | truncate(157, '…') }}
                {{ /article }}
            {{ elseif text }}
                {{ text | trim | truncate(157, '…') }}
            {{ /if }}
        {{ /blocks }}
    {{ /if }}
{{ /seo:collection_defaults }}
