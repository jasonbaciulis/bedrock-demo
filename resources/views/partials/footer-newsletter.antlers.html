{{ once }}
    {{ push:scripts }}
        {{ vite src="resources/js/newsletter.js" }}
    {{ /push:scripts }}
{{ /once }}

<form x-data="newsletter()" @submit.prevent="sendForm()">
    <div class="sm:flex" x-show="!success">
        <label for="email-address" class="sr-only">Email address</label>
        <input type="email" name="email" id="email-address" autocomplete="email" required class="
                min-w-0
                w-full
                border
                border-gray-300
                rounded-md
                px-4
                py-3
                text-gray-900
                placeholder-gray-500
                focus:outline-none
                focus:ring-primary-500
                focus:border-primary-500
                focus:placeholder-gray-400
                sm:max-w-xs
            " placeholder="Enter your email" />
        <input type="text" name="honeypot" class="hidden" x-ref="honeypot" />
        <div class="mt-3 rounded-md sm:mt-0 sm:ml-3 sm:shrink-0">
            <button type="submit" class="
                    btn btn--primary
                    w-full
                    h-full
                    sm:w-32
                " :disabled="sending">
                <span x-cloak x-show="sending">Subscribing</span>
                <span x-show="!sending">{{ configuration:newsletter_button_title }}</span>
            </button>
        </div>
    </div>

    <div x-cloak x-show="success">
        {{ partial:components/alert style="success" }}
    </div>
    <p x-cloak x-show="error" x-text="errorMessage" class="mt-1 text-error-700 content-sm font-medium"></p>
</form>
